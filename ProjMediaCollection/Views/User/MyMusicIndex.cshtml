@model ProjMediaCollection.Models.UserViewModels.MyMusicIndexViewModel
@*<form asp-action="MyMovieIndex" asp-controller="User" method="get">

    </form>*@


@*<table class="table">
    <tr>
        <th>playlistId</th>
        <th>playlistname</th>
        <th>moviename</th>
        <th>covers</th>
    </tr>
    @foreach (var item in Model.MyMusicPlaylist)
    {
        @foreach (var album in item.MySelectedMusic)
        {
            <tr>
                <td>@item.Id</td>
                <td>@item.Name</td>

                <td>@Html.Label(album.Title)</td>
                <td>
                    @album.Id
                    @if (album.Cover != null)
                    {
                        <a asp-controller="music" asp-action="DetailAlbum" asp-route-id="@album.AlbumId">  <img src="data:image;base64,@System.Convert.ToBase64String(album.Cover)" width="160" height="205" /></a>
                    }
                    else
                    {
                        <p>geen foto beschikbaar</p>
                    }



                </td>


            </tr>}
    }
</table>*@


@foreach (var item in Model.MyMusicPlaylist)
{

    <button class="accordion">@item.Name</button>
    <div class="panel col-md-12">


        @foreach (var movie in item.MySelectedMusic)
        {
            var movieCount = item.MySelectedMusic.Count();
            <!-- Grid column -->
            <div class="col-lg-4 col-md-6">

                <!--Card-->
                <div class="card">

                    <!--Card image-->
                    <div class="view">
                        @if (movie.Cover != null)
                        {

                            <a asp-controller="music" asp-action="DetailAlbum" asp-route-id="@movie.AlbumId">
                                <img src="data:image;base64,@System.Convert.ToBase64String(movie.Cover)" class="card-img-top" alt="photo">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        }
                        else
                        {
                            <p>Geen foto beschikbaar</p>
                        }
                    </div>

                    <!--Card content-->
                    <div class="card-body elegant-color white-text">
                        <!--Title-->
                        <h4 class="card-title">@movie.Title</h4>
                        <!--Text-->
                        <p class="card-text white-text">
                            @*@movie.Release*@
                        </p>

                        @*<form asp-action="AddToPlaylist" asp-controller="User" asp-route-id="@item.Id" method="post">
                            @*<a asp-action="AddToPlaylist"  asp-controller="User" asp-route-id="@item.Id" >Add to playlist</a>*@

                        @*<div class=" form-group">
                                <label asp-for="SelectedMoviePlaylist">Select your playlist</label>
                                <select class="form-control" asp-for="SelectedMoviePlaylist" asp-items="Model.MoviePlaylistToSelect"></select>
                                <span class="text-danger" asp-validation-for="MoviePlaylistToSelect"></span>
                            </div>
                            <button class="btn btn-primary" type="submit">Add to playlist</button>*@

                        @*</form>*@

                        @*<a href="#" class="btn btn-outline-white btn-md waves-effect">Button</a>*@
                    </div>

                </div>
                <!--/.Card-->

            </div>

        }



    </div>

}

<p><a asp-action="CreateMusicPlaylist" asp-controller="User">Create new List</a></p>