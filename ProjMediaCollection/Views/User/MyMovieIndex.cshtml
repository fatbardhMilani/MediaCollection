@model ProjMediaCollection.Models.UserViewModels.MyMovieIndexViewModel
@*<form asp-action="MyMovieIndex" asp-controller="User" method="get">

    </form>*@

@*@foreach (var item in Model.MyMoviePlayList)
    {
        var itmes = Model.MyMoviePlayList.Count();
        <ul class="list-group">
            <li class="list-group-item d-flex justify-content-between align-items-center">
                @item.Name
                <span class="badge badge-primary badge-pill">@itmes</span>
            </li>
        </ul>
    }*@


@foreach (var item in Model.MyMoviePlayList)
{

    <button class="accordion">@item.Name</button>
    <div class="panel col-md-12">


        @foreach (var movie in item.MyMoviesLists)
        {
            var movieCount = item.MyMoviesLists.Count();
            <!-- Grid column -->
            <div class="col-lg-4 col-md-6">

                <!--Card-->
                <div class="card">

                    <!--Card image-->
                    <div class="view">
                        @if (movie.Cover != null)
                        {

                            <a asp-controller="Movie" asp-action="DetailMovie" asp-route-id="@item.Id">
                                <img src="data:image;base64,@System.Convert.ToBase64String(movie.Cover)" class="card-img-top" alt="photo">
                                <div class="mask rgba-white-slight"></div>
                            </a>
                        }
                        else
                        {
                            <p>Geen foto beschikbaar</p>
                        }
                    </div>

                    <!--Card content-->
                    <div class="card-body elegant-color white-text">
                        <!--Title-->
                        <h4 class="card-title">@movie.Title</h4>
                        <!--Text-->
                        <p class="card-text white-text">
                            @*@movie.Release*@
                        </p>

                        @*<form asp-action="AddToPlaylist" asp-controller="User" asp-route-id="@item.Id" method="post">
                        @*<a asp-action="AddToPlaylist"  asp-controller="User" asp-route-id="@item.Id" >Add to playlist</a>*@

                        @*<div class=" form-group">
                            <label asp-for="SelectedMoviePlaylist">Select your playlist</label>
                            <select class="form-control" asp-for="SelectedMoviePlaylist" asp-items="Model.MoviePlaylistToSelect"></select>
                            <span class="text-danger" asp-validation-for="MoviePlaylistToSelect"></span>
                        </div>
                        <button class="btn btn-primary" type="submit">Add to playlist</button>*@

                        @*</form>*@

                        @*<a href="#" class="btn btn-outline-white btn-md waves-effect">Button</a>*@
                    </div>

                </div>
                <!--/.Card-->

            </div>

        }



    </div>

}


<td><a asp-action="CreateMovieList" asp-controller="User">Create new List</a></td>
@*<table class="table">
        <tr>
            <th>playlistId</th>
            <th>playlistname</th>
            <th>moviename</th>
            <th>covers</th>
        </tr>
        @foreach (var item in Model.MyMoviePlayList)
        {
            @foreach (var movie in item.MyMoviesLists)
            {
                <tr>
                    <td>@item.Id</td>
                    <td>@item.Name</td>

                    <td>@Html.Label(movie.Title)</td>
                    <td>
                        @movie.Id
                        @if (movie.Cover != null)
                        {
                            <a asp-controller="Movie" asp-action="detailmovie" asp-route-id="@movie.Id">  <img src="data:image;base64,@System.Convert.ToBase64String(movie.Cover)" width="160" height="205" /></a>
                        }
                        else
                        {
                            <p>geen foto beschikbaar</p>
                        }



                    </td>


                </tr>}
        }
    </table>*@